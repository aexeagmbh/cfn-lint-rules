---
Resources:
  Project1:
    Type: AWS::CodeBuild::Project
    Properties:
      ServiceRole: !ImportValue ServiceRoleArn
      Artifacts:
        Type: NO_ARTIFACTS
      Environment:
        Type: LINUX_CONTAINER
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/java:openjdk-8
      Source:
        Location: codebuild-demo-test/0123ab9a371ebf0187b0fe5614fbb72c
        Type: S3

  Project2:
    Type: AWS::CodeBuild::Project
    Properties:
      ServiceRole: !ImportValue ServiceRoleArn
      Artifacts:
        Type: NO_ARTIFACTS
      Environment:
        Type: LINUX_CONTAINER
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/java:openjdk-8
      Source:
        Location: codebuild-demo-test/0123ab9a371ebf0187b0fe5614fbb72c
        Type: S3
      LogsConfig:
        CloudWatchLogs:
          Status: ENABLED

  Project3:
    Type: AWS::CodeBuild::Project
    Properties:
      ServiceRole: !ImportValue ServiceRoleArn
      Artifacts:
        Type: NO_ARTIFACTS
      Environment:
        Type: LINUX_CONTAINER
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/java:openjdk-8
      Source:
        Location: codebuild-demo-test/0123ab9a371ebf0187b0fe5614fbb72c
        Type: S3
      LogsConfig:
        CloudWatchLogs:
          GroupName: log_group_name
          Status: ENABLED

  Project4LogGroup:
    Type: AWS::Logs::LogGroup
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete

  Project4:
    Type: AWS::CodeBuild::Project
    Properties:
      ServiceRole: !ImportValue ServiceRoleArn
      Artifacts:
        Type: NO_ARTIFACTS
      Environment:
        Type: LINUX_CONTAINER
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/java:openjdk-8
      Source:
        Location: codebuild-demo-test/0123ab9a371ebf0187b0fe5614fbb72c
        Type: S3
      LogsConfig:
        CloudWatchLogs:
          GroupName: !Sub "${Project4LogGroup}"
          Status: ENABLED
