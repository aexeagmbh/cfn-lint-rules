---
Resources:
  ECSService:
    Type: AWS::ECS::Service
    Properties:
      Cluster: my-cluster
      DesiredCount: 1
      TaskDefinition: my-task-defintion
      DeploymentConfiguration:
        DeploymentCircuitBreaker:
          Enable: true
          Rollback: false

  FargateService:
    Type: AWS::ECS::Service
    Properties:
      Cluster: my-cluster
      DesiredCount: 1
      TaskDefinition: my-task-defintion
      LaunchType: FARGATE
      DeploymentConfiguration:
        DeploymentCircuitBreaker:
          Enable: true
          Rollback: false

  FargateServiceWithPlatformVersion:
    Type: AWS::ECS::Service
    Properties:
      Cluster: my-cluster
      DesiredCount: 1
      TaskDefinition: my-task-defintion
      LaunchType: FARGATE
      PlatformVersion: 1.4.0
      DeploymentConfiguration:
        DeploymentCircuitBreaker:
          Enable: true
          Rollback: false

  FargateServiceWithPlatformVersion2:
    Type: AWS::ECS::Service
    Properties:
      Cluster: my-cluster
      DesiredCount: 1
      TaskDefinition: my-task-defintion
      LaunchType: FARGATE
      PlatformVersion: LATEST
      DeploymentConfiguration:
        DeploymentCircuitBreaker:
          Enable: true
          Rollback: false
